---
title: "3. Меры согласия"
author: "Г. Мороз"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(message = FALSE, warning = FALSE)
```

<style>
.parallax {
    /* The image used */
    background-image: url("3_agreement.jpg");
    
    /* Set a specific height */
    min-height: 300px; 

    /* Create the parallax scrolling effect */
    background-attachment: fixed;
    background-position: center;
    background-repeat: no-repeat;
    background-size: auto;
}
</style>

<div class="parallax"></div>


### 1. Введение

* ваши данные имеют два возможных исхода
    * head vs.  tail
    * орел vs. решка
    * 1 vs. 0
    * выпадение 6 на кубике
    * количество диалектных vs. недиалектных форм у одного информанта
    * употребление слова _кенгуру_ в некотором тексте
    * ...
    
* у вас есть идеи по поводу возможного распределения

#### 1.1 Библиотеки
```{r}
library(tidyverse)
library(irr)
```

#### 1.2 Данные: зиловский эксперимент
В зиловском диалекте андийского языка существует два класса для неодушевленных предметов. В 2017 году был проведен эксперимент, чтобы проверить, наличие вариативности в отнесению к тому или иному классу заимствованой и исконной лексики.

```{r}
zilo_classes <- read_csv("https://goo.gl/miGq7Q")
head(zilo_classes)
```

Переменные в датасете:

* s_id — код испытуемого
* age_2017 — возраст на 2017 год
* w_id — код стимула
* stimulus
* translation_en
* translation_ru
* stimulus_source — тип слова: исконное или заимствованное
* class — класс слова, к которому испытуемый отнес слово

#### 1.3 Данные: исследование маргинальных русских глаголов
Данные взяты из [исследования [Endresen, Janda 2015]](https://goo.gl/GC4RjQ), посвященное исследованию маргинальных глаголов изменения состояния в русском языке. Испытуемые (70 школьников, 51 взрослый) оценивали по [шкале Ликерта (1...5)](https://goo.gl/R4gHiq) приемлемость глаголов с приставками _о-_ и _у-_:

* широко используемуе в СРЛЯ (_освежить_, _уточнить_)
* встретившие всего несколько раз в корпусе (_оржавить_, _увкуснить_)
* искусственные слова (_ономить_, _укампить_)

```{r}
marginal_verbs <- read_csv("https://goo.gl/6Phok3")
head(marginal_verbs)
```

Переменные в датасете:

* Gender
* Age
* AgeGroup — взрослые или школьники
* Education
* City
* SubjectCode — код испытуемого
* Score — оценка, поставленная испытуемым (A — самая высокая, E  — самая низкая)
* GivenScore — оценка, поставленная испытуемым (5 — самая высокая, 1  — самая низкая)
* Stimulus
* Prefix
* WordType — тип слова: частотное, редкое, искусственное
* CorpusFrequency — частотность в корпусе

<div class="parallax"></div>

### 2. Преобразования данных
Все функции пакета `irr` не настроены на формат tidy data, и требует следующего формата:

* каждый столбец — это суждения одного оценщика (rater)
* каждая строчка — это объект оценки

```{r}
zilo_classes %>% 
  select(s_id, stimulus, translation_ru, stimulus_source, class) %>% 
  spread(key = s_id, value = class) ->
  zilo_classes_short
head(zilo_classes_short)

marginal_verbs %>% 
  select(SubjectCode, Stimulus, WordType, Prefix, GivenScore) %>% 
  spread(key = SubjectCode, value = GivenScore) ->
  marginal_verbs_short
head(marginal_verbs_short)
```

<div class="parallax"></div>

### 3. Процент согласия
Процент согласия — это процент случаев, когда все оценщики идентичны в своих суждениях. Эту меру иногда ошибочно приводят как меру согласия оценщиков, однако она не учитывает возможность случайного совпадения / расхождения суждений.

```{r}
agree(zilo_classes_short[-c(1:3)])
agree(marginal_verbs_short[-c(1:3)])
```

<div class="parallax"></div>
